@(title: String)(currentUser:Person)(project: Project)
    <html lang="en">
        <head>
            @linkLoader.headlinks(title)
        </head>
        <body>
            <div id="wrapper">
                @dashboard("project", currentUser)
                <div id="page-wrapper">
                    @template.headericon("fa fa-line-chart fa-5x")
                    <div class="row">
                        <div class="col-xs-12" style="text-align: center; margin: 1% 0">
                            <div class="btn-group pull-left" role="group" style="padding-left: 30px">
                                <a style="width: 175px" type="button" class="btn btn-success" href="@routes.ProjectData.createProjectPage()">Create a new project</a>
                            </div>
                            <div class="btn-group" role="group">
                                <button style="width: 175px" type="button" class="btn btn-default"
                                data-toggle="modal" data-target="#archivedProjectList"
                                @if(PersonData.findArchivedProjects.isEmpty){disabled}>Archived projects</button>
                            </div>
                            <div class="btn-group pull-right" role="group" style="padding-right: 30px">
                                <button style="width: 175px" type="button" class="btn btn-info dropdown-toggle" id="invitations"
                                data-toggle="dropdown" aria-expanded="true" @if(PersonData.findPendingInvitations().isEmpty){disabled}>
                                    Invitations: @PersonData.findPendingInvitations().size()
                                </button>
                                <ul class="dropdown-menu pull-left" role="menu" aria-labelledby="invitations" style="margin-right: 30px; padding: 0">
                                    @defining(PersonData.findPendingInvitations()) { projects_pending =>
                                        @for(pp <- projects_pending){
                                            <li role="presentation" style="padding: 5px; margin: 0">
                                                <div class="panel panel-info" style="margin: 0">
                                                    <div class="panel-body" style="width: 400px;">
                                                        <p style="margin: 0">You have been invited to join project @pp.name
                                                            as a @Role.find.where().eq("user", currentUser).eq("project", pp).findUnique().role.
                                                        </p>
                                                        <div class="btn-group col-xs-6" role="group" style="margin: 0">
                                                            <a type="button" href="@routes.ProjectData.hasDeclined(pp.id)" class="btn btn-danger" style="font-size: smaller">No thanks.</a>
                                                        </div>
                                                        <div class="btn-group col-xs-6" role="group" style="margin: 0">
                                                            <a type="submit" href="@routes.ProjectData.hasAccepted(pp.id)" class="btn btn-success">Yeah sure!</a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </li>
                                        }
                                    }
                                </ul>
                            </div>
                        </div>
                    </div>
                    @projects.projectNavBar(currentUser, project)
                    @projects.projectContent(currentUser, project)
                </div>
            </div>
            @*Archived List Modal*@
            @template.mediummodal("archivedProjectList")("info")("List of Archived Projects") {
                    <!-- Table -->
                <table class="table" style="table-layout: fixed">
                    <thead>
                        <tr>
                            <th>Folder Name</th>
                            <th>Project Name</th>
                            <th>Date Archived</th>
                        </tr>
                    </thead>
                    <tbody>
                    @PersonData.findArchivedProjects.map{ p =>
                        <tr>
                            <td style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis">@p.folder</td>
                            <td style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis">@p.name</td>
                            <td style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis">@p.dateArchived.toString.substring(0,10)</td>
                        </tr>
                    }
                    </tbody>
                </table>
            }
                <!-- jQuery -->
            <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js" ></script>
                <!--bootstrap-->
            <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
                <!--sb-Admin javascript Needed for Dropdown to work-->
            <script src="@routes.Assets.at("javascripts/sb-admin-2.js")"></script>
                <!--MetisMenu javascript Needed for Dropdown to work-->
            <script src="@routes.Assets.at("javascripts/plugins/metisMenu/metisMenu.min.js")"></script>
        </body>
    </html>
