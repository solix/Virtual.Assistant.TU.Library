@(currentUser: User, p: Project)

<div class="panel-heading">
    @*<div class="container-fluid">*@
        <div class="row">
            <div class="col-xs-6">
                <h1>@p.name</h1>
            </div>
            <div class="col-xs-6">
                <ul class="nav navbar-top-links navbar-right">
                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                            <i class="fa fa-cogs fa-fw"></i> <u class="hidden-xs">Settings</u><span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu dropdown-messages">
                            <li><a href="#" data-toggle="modal" data-target="#editProject@p.id"><i class="fa fa-pencil fa-fw"></i> Edit project_old details...</a></li>
                            <li><a href="#" data-toggle="modal" data-target="#projectMemberList@p.id"><i class="fa fa-clipboard fa-fw"></i> List of members...</a></li>
                            <li><a href="#" data-toggle="modal" data-target="#projectMemberList@p.id"><i class="fa fa-comment fa-fw"></i> Start a discussion...</a></li>
                            <li class="divider"></li>
                            @*TODO: make if statement, and change to "request ownership" if user is not in owners list*@
                            <li><a href="#" data-toggle="modal" data-target="#addMemberToProject@p.id"><i class="fa fa-user fa-fw"></i> Add a member...</a></li>
                            <li><a href="#" data-toggle="modal" data-target="#addReviewerToProject@p.id"><i class="fa fa-edit fa-fw"></i> Add a reviewer...</a></li>
                            <li><a href="#" data-toggle="modal" data-target="#removeMemberFromProject@p.id"><i class="fa fa-remove fa-fw"></i> Remove someone...</a></li>
                            <li class="divider"></li>
                            @*TODO: make if statement, and change to "Archive Project" if the user is the single owner*@
                            <li><a href="#" data-toggle="modal" data-target="#archiveProject@p.id"><i class="fa fa-archive fa-fw"></i> Archive Project</a></li>
                            <li><a href="#" data-toggle="modal" data-target="#leaveProject@p.id"><i class="fa fa-sign-out fa-fw"></i> Leave project_old</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    @*</div>*@
    <div class="row">
        <div class="col-xs-7">
            <p>Description</p>
        </div>
        <div class="col-xs-5">
            <p>Members:</p>
            <p style="text-align: right">@for(user <- p.users){
                @if(p.users.last.equals(user)){
                    @user.email.
                } else {
                    @user.email,
                }
            }</p>
        </div>
    </div>
</div>
@*Edit Project Modal*@
@template.smallmodal("editProject"+p.id.toString)("info")("Edit details of "+p.name) {
    <div class="row">
        <div class="col-sm-offset-2 col-sm-8">
        @helper.form(action = routes.ProjectData.editProject(p.id)) {
            <div class="form-group">
                <label for="validate-text">Folder Name</label>
                <div class="input-group" data-validate="length" data-length="3">
                    <input type="text" class="form-control" name="folder" value="@p.folder" id="validate-text" placeholder="Required" required>
                    <span class="input-group-addon danger"><span class="glyphicon glyphicon-remove"></span></span>
                </div>
                <span class="help-inline" style="font-size: x-small;">Minimum length: 3</span>
            </div>
            <div class="form-group">
                <label for="validate-text">Project Name</label>
                <div class="input-group" data-validate="length" data-length="3">
                    <input type="text" class="form-control" name="name" value="@p.name" id="validate-text" placeholder="Required" required>
                    <span class="input-group-addon danger"><span class="glyphicon glyphicon-remove"></span></span>
                </div>
                <span class="help-inline" style="font-size: x-small;">Minimum length: 3</span>
            </div>
            <div class="btn-group col-xs-6" role="group" style="margin:20px 0px 0px 0px">
                <button type="submit" class="btn btn-info col-xs-12" disabled>Edit!</button>
            </div>
            <div class="btn-group col-xs-6" role="group" style="margin:20px 0px 0px 0px">
                <button type="button" class="btn btn-default col-xs-12" data-dismiss="modal">Cancel</button>
            </div>
        }
        </div>
    </div>
}
@*Member List Modal*@
@template.mediummodal("projectMemberList"+p.id.toString)("info")("Members of "+p.name) {
    <!-- Table -->
    <table class="table" style="table-layout: fixed">
        <thead>
            <tr>
                <th>Name</th>
                <th>E-mail</th>
                <th>Date Joined</th>
                <th>Role</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @p.users.map{ u =>
                <tr>
                    <td>@u.name</td>
                    <td>@u.email</td>
                    <td>Not Applicaple yet</td>
                    <td>Not Applicable yet</td>
                    <td>Not Applicable yet</td>
                </tr>
            }
        </tbody>
    </table>
}
@*Add Member Modal*@
@template.smallmodal("addMemberToProject"+p.id.toString)("info")("Add a Member to "+p.name) {
    <div class="row">
        <div class="col-sm-offset-2 col-sm-8">
        @helper.form(action = routes.ProjectData.addMemberToProjectAs(p.id)) {
@*//            TODO: FIND EMAIL REGEXX*@
            <div class="form-group">
                <label for="validate-email">E-mail</label>
                <div class="input-group" data-validate="length" data-length="1">
                    <input type="email" class="form-control" name="email" id="validate-email" placeholder="Email" required>
                    <span class="input-group-addon danger"><span class="glyphicon glyphicon-remove"></span></span>
                </div>
            </div>
            <div class="btn-group col-xs-6" role="group" style="margin:20px 0px 0px 0px">
                <button type="submit" class="btn btn-info col-xs-12" disabled>Invite!</button>
            </div>
            <div class="btn-group col-xs-6" role="group" style="margin:20px 0px 0px 0px">
                <button type="button" class="btn btn-default col-xs-12" data-dismiss="modal">Cancel</button>
            </div>
        }
        </div>
    </div>
}
@*Remove Member Modal*@
@template.mediummodal("removeMemberFromProject"+p.id.toString)("danger")("Members of "+p.name) {
    <!-- Table -->
    <table class="table">
        <thead>
            <tr>
                <th>Name</th>
                <th>E-mail</th>
                <th>Date Joined</th>
                <th>Role</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        @p.users.map{ u =>
            @if(!u.equals(currentUser)){
                <tr>
                    <td>@u.name</td>
                    <td>@u.email</td>
                    <td>Not Applicaple yet</td>
                    <td>Not Applicable yet</td>
                    <td><a href="@{routes.ProjectData.removeMemberFromProject(u.id, p.id)}" ><i class="fa fa-remove fa-fw"></i></a></td>
                </tr>
            }
        }
        </tbody>
    </table>
}
@*Add Reviewer Modal*@
@template.smallmodal("addReviewerToProject"+p.id.toString)("info")("Add a Reviewer to "+p.name) {<p>Form with email address</p>}
@*Archive Project Confirmation Modal*@
@template.smallmodal("archiveProject"+p.id.toString)("danger")("Request to archive "+p.name) {
    <p>Are you sure you want to archive project_old @p.name, and all of its files?</p>
    <div class="btn-group pull-right" role="group" style="margin:2% 1% 1% 1%">
        <div class="btn-group" role="group">
            <a type="button" class="btn btn-default" data-dismiss="modal">Cancel.</a>
        </div>
        <div class="btn-group" role="group">
            <a type="button" class="btn btn-danger" href="@routes.ProjectData.archiveProject(currentUser.id,p.id)">Archive!</a>
        </div>
    </div>
}
@*Leave Project Confirmation Modal*@
@template.smallmodal("leaveProject"+p.id.toString)("danger")("Leaving "+p.name) {
    <p>Are you sure you want to leave project_old @p.name?</p>
    <div class="btn-group pull-right" role="group" style="margin:2% 1% 1% 1%">
        <div class="btn-group" role="group">
            <a type="button" class="btn btn-default" data-dismiss="modal">Cancel.</a>
        </div>
        <div class="btn-group" role="group">
            <a type="button" class="btn btn-danger" href="@routes.ProjectData.removeMemberFromProject(currentUser.id,p.id)">Leave!</a>
        </div>
    </div>
}
